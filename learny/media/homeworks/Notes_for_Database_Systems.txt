1) <2 letters constraint name abbreviation>_<table name>_<column name(s)>   Как назвать колонки
e.g.: pk_employee_id, uq_employee_firstname_lastname

2) exec sp_rename 'department2', 'department3'     Как переназвать таблицу

3) DROP TABLE IF EXISTS department; Как удалить таблицу

4) CREATE TABLE (
	NameOfColumn DataType(int, varchar(x), money, decimal(precision, scale) NULL/NOT NULL (+optional) constraint nameOfConstraint Type( DEFAULT, FOREIGN KEY, PRIMARY KEY, CHECK, UNIQUE)
	

);

5) Есть 2 вида constraints: column и table.  Первый сверху а вот второй
CREATE TABLE(
колонка1,
колонка2,
колонка3,
...
constraint nameOfConstraint Type( DEFAULT, FOREIGN KEY, PRIMARY KEY, CHECK, UNIQUE) (Name of Column)
);

6)ALTER TABLE TABLE_NAME ADD/ALTER COLUMN NameOfColumn DataType(int, varchar(x), money, decimal(precision, scale) NULL/NOT NULL

7)ALTER TABLE TABLE_NAME DROP COLUMN NameOfColumn

8)ALTER TABLE TABLE_NAME ADD/ALTER CONSTRAINT nameOfConstraint Type( DEFAULT 'Hehe', FOREIGN KEY, PRIMARY KEY, CHECK (age > 18), UNIQUE(name))

9)ALTER TABLE TABLE_NAME DROP CONSTRAINT NameOfConstraint


10) deptno int identity(10, 5) Увеличивается на 5 начиная с 10

11)  did int constraint fk_person_did references department(id)

12) constraint fk_person_did foreign key(did) references department(id)
 on delete set null
 on update cascade

13)  insert into person (Id, Name, Country) values(2, ‘Mike’, ’UK’);


14)  SELECT identifies what columns

15)  FROM identifies which table

16) Can use * as an abbreviation for ‘all columns’:

17) Use DISTINCT to eliminate duplicates:

 SELECT DISTINCT propertyNo
 FROM Viewing;

18) Restrict selected rows by using WHERE clause

19)  BETWEEN … AND …                 Between two values (inclusive)            WHERE Employee BETWEEN salary BETWEEN 1000 AND 1500;
 
IN(list)                               Match any of a list of values          WHERE  manager IN (7902, 7566, 7788);

LIKE                                Match a character pattern              WHERE  eName LIKE ‘_S%';-- letter ‘S’ on a 2nd position in name
 
IS NULL                           Is a null value

20) Logical operators: NOT, AND, OR

21) WHERE manager IS NULL

22)  Sort rows with the ORDER BY clause
 • ASC ascending order, default
 • DESC descending order

23) datename(weekday, hiredate)

24)datepart(month, hiredate)

25) dateadd(Сколько, чего, что)

26) '%A%' есть ли буква вообще

27) len()                 dlina slova

28) CONCAT('слово' + ' слово ' + 'слово')                     получится слово слово слово
29) coalesce(salary, 0)
30) upper()               lower()
31) substring(ename, 2, 3)        ADDAMS -> DDA


WEEK 5
32) SELECT   table1.column, table2.column 
FROM table1, table2    
WHERE table1.column1 = table2.column2;

33)Can use alias with space to rename table name    FROM View v, client c

34)  FROM table1 t1 
 JOIN table2 t2 ON t1.attribute = t2.attribute

35) 5 main aggregate functions which eliminates null while calculating: min, max, avg, sum, count
36) Can use distinct COUNT(DISTINCT email)

37) SELECT AVG(sal)        OR SELECT  deptno, AVG(sal)
 FROM emp                     FROM emp
 GROUP BY deptno;             GORUP BY deptno;

38) Aggregate functions can be used only in SELECT list and in HAVING clause

39) The same search conditions as for WHERE clause apply to HAVING, so it is 
possible to use the same comparison operators and logical operators to group 
conditions

SELECT job, SUM(sal) PAYROLL
FROM  emp     
WHERE job NOT LIKE 'SALES%'  
GROUP BY job
HAVING SUM(sal)>5000
 ORDER BY  SUM(sal);

40) WHERE> GROUP BY> HAVING

41)SELECT city
 FROM Branch
 WHERE city IS NOT NULL
 UNION
 SELECT city
 FROM PropertyForRent
 WHERE city IS NOT NULL

42) SELECT city FROM Branch
 INTERSECT
 SELECT city FROM PropertyForRent

43) SELECT city FROM Branch
 EXCEPT
 SELECT city FROM PropertyForRent

44) OVER – apply window
 PARTITION BY  - group by specified attributes works similar to GROUP BY (but does not collapse rows)
 ORDER BY – order before applying window functions
 ROWS/RANGE BETWEEN from AND to

45) STRING_AGG(columnName, ',') example -> [1,2,2,4]

46) sum(sal) over(order by empno rows between unbounded preceding and current row) [Running total] 
		// order by empno rows between n preceding and current row

47) with x as(                                                                         WE USE WITH x
SELECT t1.ename, t2.dname, ROW_NUMBER() OVER(PARTITION BY t2.dname ORDER BY t1.ename) [Row]
FROM EMP t1 JOIN DEPT t2 ON t1.deptno = t2.deptno
)
SELECT * from x 
WHERE [Row] =1
ORDER BY dname

48) LEAD(column) OVER(ORDER BY column)    To show the next value

49) ntile(n) over(order by)

50) dense_rank() over(order by)    1,2,3,3,4,5
	rank() over (order by)     1,2,3,3,5 Пропускает цифру если одинаковые идут подряд

51) create index ix_s0_person_firstname on s0.Person(FirstName)

52) drop index ix_s0_person_firstname on s0.Person

--SET OPERATORS--

53) UNION ALL -> Появляются все с повторками

54) UNION    -> все уникальные      в обоих случаях обязательно одинаковое количество колон в таблицах

55) EXCEPT
56) INTERSECT

57) CREATE VIEW Emp_Dept30 AS
SELECT empno,
       ename,
       sal AS salary,
       job
FROM emp
WHERE deptno = 30;

58) SELECT * FROM Emp_Dept30
59) DROP VIEW Emp_Dept30 


 






